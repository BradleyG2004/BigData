apiVersion: 1

datasources:
  # ================================
  # PostgreSQL - Données nettoyées
  # ================================
  - name: PostgreSQL - Polymarket Cleaned
    type: postgres
    access: proxy
    url: postgres-polymarket:5432
    database: polymarket_db
    user: polymarket
    secureJsonData:
      password: polymarket123
    jsonData:
      sslmode: disable
      postgresVersion: 1300  # PostgreSQL 13
      timescaledb: false
    isDefault: true
    editable: true
    uid: postgres-cleaned

  # ================================
  # MongoDB - Données brutes et nettoyées
  # ================================
  # Note: MongoDB datasource doit être configurée manuellement via l'UI Grafana
  # Car les variables d'environnement ne sont pas interpolées dans les fichiers de provisioning
  #
  # Pour ajouter MongoDB manuellement:
  # 1. Aller dans Configuration → Data Sources → Add data source
  # 2. Chercher "MongoDB" et installer le plugin si nécessaire
  # 3. Configurer avec votre MONGO_URI depuis .env
  # 4. Database: polymarket_db
  # 5. Collections: polymarket (raw), cleaned

